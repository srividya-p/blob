<!DOCTYPE html>
<html>

<head>
    <title>Student</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/util.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
</head>

<body>
    <div class="limiter">
        <div class="container-table100">
            <div class="wrap-table100">
                <div class="table100">
                    <h1>{{title}}</h1><br><br>
                    <div id="anchors">
                        <a href='/'>View</a>&emsp14;&emsp14;&emsp14;&emsp14;&emsp14;&emsp14;
                        <a href='/insert'>Insert</a>&emsp14;&emsp14;&emsp14;&emsp14;&emsp14;&emsp14;
                        <a href='/search'>Update</a>&emsp14;&emsp14;&emsp14;&emsp14;&emsp14;&emsp14;
                        <a href='/delete'>Delete</a><br><br><br><br>
                    </div>
                    <form action="/update/updated" method="POST" autocomplete="off">
                        <fieldset>
                            <br><br><label>Id:</label><br>
                            <input name="id" type="number" id="id" placeholder="Id"><br><br>
                            <label>Name:</label><br>
                            <input name="s_name" type="text" id="name" placeholder="Name"><br><br>
                            <label>Image:</label><br><br>
                            <label style="font-weight: bold;">Currently&nbsp;{{path}}</label><br><br>
                            <input name="path" type="file" id="path" onchange="preview()" accept="image/*"><br><br>
                            <img src="" height="200" alt="Image preview..."><br><br>
                            <button type="submit" onclick="getImage()">Update</button><br><br>
                        </fieldset>
                    </form>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    document.getElementById('id').value = "{{id}}"
    document.getElementById('name').value = "{{name}}"
</script>

<script>
    function preview() {
        const preview = document.querySelector('img');
        const file = document.querySelector('input[type=file]').files[0];
        const reader = new FileReader();
        if (file) {
            reader.readAsDataURL(file);
        }
        reader.addEventListener("load", function () {
            preview.src = reader.result;
        }, false);
    }
</script>

</html>